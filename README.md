**요약**
- 배치 처리 관련 설정들
  - 배치 크기 설정 : `spring.jpa.properties.hibernate.jdbc.batch_size=30`
  - jdbc url 최적화 플래그 속성 : `rewriteBatchedStatements`
    - SQL문이 하나의 문자열 버퍼로 재작성되고, DB에 대한 하나의 요청으로 전송됨
- 엔터티를 배치 처리로 등록할 때 다음 어노테이션을 추가하지 말 것
  - `GeneratedValue(strategy = GenerationType.IDENTITY)`
  - 하이버네이트 IDENTITY 생성자의 경우 INSERT에 대해서만 JDBC 배치 처리를 비활성화한다고 함
  - AUTO, UUID도 등록 배치 처리 가능하지만 기본적으로 UUID는 피할 것
- 내장 saveAll(Iterable\<S> entities) 단점
  - 개발자는 현재 트랜잭션에서 영속성 콘텍스트 플러시 및 클리어를 제어할 수 없음
  - 개발자는 merge() 대신 persist()를 사용할 수 없음 (엔터티에 @Version 속성 추가하여 추가적인 SELECT 실행 방지 가능)
  - saveAll() 메서드는 영속된 엔터티를 포함하는 List\<S>를 반환함
- 배치 등록 모범 사례
  - 비-리포지터리 BatchRepository 인터페이스 작성
  - BatchRepository 구현 작성
    - 트랜잭션 전파를 NEVER로 설정할 것(스프링이 잠재적으로 오래 실행되는 트랜잭션 시작을 허용하지 않게 하기 위함)
  - 실제 배치 처리는 BatchExecutor에서 이뤄짐
  - 커스텀된 리포지터리 기반 클래스를 사용하도록 스프링에 설정
    - @SpringBootApplication이 붙은 Application 클래스에 `@EnableJpaRepositories(repositoryBaseClass = BatchRepositoryImpl.class)` 추가
