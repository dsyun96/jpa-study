# 요약
- orphanRemoval = true 설정은 오너 엔터티의 참조 없이 존재하지 않아야 할 엔터티를 정리하는 데 유용함
  - 단, 상당수의 엔터티에 영향을 줘야 하는 경우는 그다지 효율적이지 않음
- 벌크 처리를 통해 DELETE 문의 수를 최적화하고 제어할 수 있으나, 3가지 단점을 가짐
  - 자동화된 낙관적 잠금 메커니즘 무시
  - 영속성 콘텍스트는 벌크 작업에 의해 수행된 수정 사항을 반영하고자 동기화되지 않기 때문에 유효하지 않은 콘텍스트를 가질 수 있음
  - 전이 삭제 또는 orphanRemoval 활용 불가
- 영속성 콘텍스트에서 유효하지 않은 엔터티를 방지하려면 쿼리가 실행되기 전에 EntityManager를 플러시하거나, 쿼리 실행 후에 클리어하는 것을 잊지 말아야 함
  - 플러시 및 클리어를 원하지 않는 경우에는 영속성 콘텍스트가 유효하지 않은 엔터티를 방지하는 방법에 주의를 기울일 것
- 모든 항목을 삭제하는 가장 효율적인 방법은 내장 deleteAllInBatch()를 사용하는 것
